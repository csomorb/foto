

<app-selectalbum (selectedAlbum)="setSelectedAlbum($event)"></app-selectalbum>

<input type='file' (change)="onAddFiles($event)" multiple/>
<div class="dropzone"
     dropzone
     (hovered)="toggleHover($event)"
     (dropped)="onDrop($event)"
     [class.hovering]="isHovering">


     <h3>Ajoutez vos fichiers</h3>
</div>

<h3>Uploads</h3>

<div *ngFor="let file of files">
  <img [src]="file.data" *ngIf="file.type.indexOf('image')> -1" height="200">
  <form [formGroup]="file.photoForm">
    <div>
      <label>Title</label><input formControlName="title">
    </div>
    <div>
      <label>Description</label><input formControlName="description">
    </div>
    </form>
</div>

<div *ngFor="let progressInfo of progressInfos" class="mb-2">
  <span>{{ progressInfo.fileName }}</span>
  <div class="progress">
    <div
      class="progress-bar progress-bar-info progress-bar-striped"
      role="progressbar"
      attr.aria-valuenow="{{ progressInfo.value }}"
      aria-valuemin="0"
      aria-valuemax="100"
      [ngStyle]="{ width: progressInfo.value + '%' }"
    >
      {{ progressInfo.value }}%
    </div>
  </div>
</div>

<button
  class="btn btn-success"
  [disabled]="!files"
  (click)="uploadFiles()">
  Upload
</button>

<div class="alert alert-light" role="alert">{{ message }}</div>
